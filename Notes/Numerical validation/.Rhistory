install.packages("conjoint")
camera <- data.frame()
camera$MemoryFormat <- c("SD card","Compact flash card","Memory stick")
?data.frame
as.factor(c("SD card","Compact flash card","Memory stick"))
a <- as.factor(c("SD card","Compact flash card","Memory stick"))
?factor
a <- c("SD card","Compact flash card","Memory stick")
is.ordered(a)
a <- factor(a,levels = a,ordered = T)
a
b <- c("Plastic 8x Zoom","Plastic 4x Zoom","Glass 8x Zoom")
b <- factor(b,levels = b,ordered = T)
c <- c("100 euros","200 euros","300 euros")
c <- factor(c,levels = c,ordered = T)
camera <- data.frame(MemoryFormat=a,Lens=b,Price=c)
conjoint::caFactorialDesign(camera,type = "orthogonal")
?caFactorialDesign
conjoint::caFactorialDesign(camera,type = "full")
camera$MemoryFormat <- levels(camera$MemoryFormat)
camera$Lens <- levels(camera$Lens)
camera$Price <- levels(camera$Price)
camera <- expand.grid(MemoryFormat=camera$MemoryFormat,Lens=camera$Lens,Price=camera$Price)
conjoint::caFactorialDesign(camera,type = "full")
conjoint::caFactorialDesign(camera,type = "orthongonal")
conjoint::caFactorialDesign(camera,type = "orthogonal")
conjoint::caFactorialDesign(camera,type = "orthogonal")
conjoint::caFactorialDesign(camera,type = "orthogonal")
View(camera)
load("C:/Users/55832xch/Dropbox/Teaching/Marketing Models/3 - Cases/Case I - Conjoint Analysis/super_bock_mini.RData")
mdl <- glm(choice~brand+price+shape+capacity,data,family = "binomial")
summary(mdl)
load("C:/Users/55832xch/Dropbox/Teaching/Marketing Models/3 - Cases/Case II - CLV/CLV.RData")
rm(lik_bgnbd,pred_Y)
load("C:/Users/55832xch/Dropbox/Teaching/Marketing Models/3 - Cases/Case II - CLV/CLV.RData")
rm(CLV_data)
save.image("C:/Users/55832xch/Dropbox/Teaching/Marketing Models/3 - Cases/Case II - CLV/CLV_functions.RData")
load("C:/Users/55832xch/Dropbox/Teaching/Marketing Models/3 - Cases/Case II - CLV/CLV.RData")
rm(lik_bgnbd,pred_Y)
save.image("C:/Users/55832xch/Dropbox/Teaching/Marketing Models/3 - Cases/Case II - CLV/CLV_data.RData")
install.packages(c("backports", "BH", "biglm", "broom", "callr", "caret", "checkmate", "cli", "clipr", "colorspace", "cowplot", "data.table", "DBI", "dbplyr", "doParallel", "forcats", "foreach", "Formula", "fs", "gbm", "generics", "ggplot2", "ggpubr", "ggrepel", "ggsignif", "gower", "gridSVG", "haven", "Hmisc", "htmlTable", "htmlwidgets", "httpuv", "httr", "igraph", "iterators", "labeling", "later", "latticeExtra", "lava", "lmtest", "lubridate", "magrittr", "mime", "ModelMetrics", "modelr", "openssl", "pillar", "plyr", "pracma", "prettyunits", "processx", "prodlim", "proftools", "promises", "ps", "purrr", "Rcpp", "RcppArmadillo", "RcppGSL", "RcppZiggurat", "recipes", "reshape2", "Rfast", "rlang", "Rttf2pt1", "rvest", "sandwich", "scales", "selectr", "shiny", "SQUAREM", "sys", "tidyr", "tidyselect", "tinytex", "vctrs", "withr", "xgboost", "XML", "xml2", "zoo"))
install.packages(c("backports", "BH", "biglm", "blob", "brio", "broom", "callr", "car", "carData", "caret", "checkmate", "cli", "clipr", "colorspace", "commonmark", "conquer", "corrplot", "cowplot", "cpp11", "crayon", "curl", "data.table", "DBI", "dbplyr", "desc", "deSolve", "diffobj", "digest", "doParallel", "dplyr", "ellipsis", "evaluate", "extrafont", "fansi", "farver", "fastmap", "forcats", "foreach", "fs", "generics", "ggplot2", "ggrepel", "ggsignif", "glue", "gower", "grf", "gridSVG", "haven", "highr", "Hmisc", "hms", "htmlTable", "htmltools", "htmlwidgets", "httpuv", "httr", "igraph", "ipred", "isoband", "iterators", "janitor", "jpeg", "jsonlite", "knitr", "later", "lava", "lifecycle", "lme4", "lmtest", "lubridate", "magick", "magrittr", "maptools", "MatrixModels", "matrixStats", "mime", "nloptr", "openssl", "openxlsx", "packrat", "pander", "pbkrtest", "pillar", "pkgbuild", "pkgload", "plyr", "polynom", "pracma", "pROC", "processx", "promises", "pryr", "ps", "quantreg", "R6", "rapportools", "RColorBrewer", "Rcpp", "RcppArmadillo", "RcppEigen", "RcppGSL", "readr", "readxl", "recipes", "reprex", "reshape", "Rfast", "rio", "rlang", "rmarkdown", "rprojroot", "rsconnect", "rstatix", "Rttf2pt1", "rvest", "sandwich", "scales", "shiny", "sp", "SparseM", "SQUAREM", "statmod", "stringi", "summarytools", "testthat", "tibble", "tidyr", "tidyselect", "tinytex", "utf8", "vctrs", "viridis", "viridisLite", "waldo", "withr", "xfun", "xgboost", "XML", "xml2", "yaml", "zip", "zoo"))
install.packages("tidyverse")
install.packages("dagitty")
library(dagitty)
g <- dagitty('dag {
D [pos="2,0"]
U [pos="3,-1"]
X [pos="1,0"]
Y [pos="4,0"]
X -> D -> Y
D <- U -> Y
}')
adjustmentSets(g,"X","Y",type = "all")
g <- dagitty('dag {
D [pos="2,0"]
U [pos="3,-1"]
X [pos="1,0"]
Y [pos="4,0"]
X -> D -> Y
D <- U -> Y
X -> Y
}')
g
plot(g)
g <- dagitty('dag {
D [pos="2,1"]
U [pos="3,-1"]
X [pos="1,0"]
Y [pos="4,0"]
X -> D -> Y
D <- U -> Y
X -> Y
}')
plot(g)
g <- dagitty('dag {
D [pos="2,-1"]
U [pos="3,-1"]
X [pos="1,0"]
Y [pos="4,0"]
X -> D -> Y
D <- U -> Y
X -> Y
}')
plot(g)
g <- dagitty('dag {
D [pos="2,-0.5"]
U [pos="3,-1"]
X [pos="1,0"]
Y [pos="4,0"]
X -> D -> Y
D <- U -> Y
X -> Y
}')
plot(g)
adjustmentSets(g,"X","Y",type = "all")
?adjustmentSets
adjustmentSets(g,"X","Y",type = "all", effect = "direct")
adjustmentSets(g,"X","Y",type = "minimal", effect = "direct")
library(dagitty)
g <- dagitty('dag {
M [pos="2,-0.5"]
U [pos="3,-1"]
X [pos="1,0"]
Y [pos="4,0"]
X -> M -> Y
M <- U -> Y
X -> Y
}')
plot(g)
data <- data.frame(no_of_exposures = 1:50, probability = 1:50)
data$probability <- 0.5^(c(1:50)-1)*0.5
View(data)
data$probability <- log(data$probability)
View(data)
View(data)
?rbinom
rbinom(1,10,0.5)
rbinom(10,1,0.5)
10*0.5*0.5^9
dbinom(1,50,0.5)
dbinom(1,2,0.5)
dbinom(1,3,0.5)
dbinom(1,4,0.5)
ic <- function(p,n){p*sum((1-p)^c(0:n-1))}
ic(0.5,50)
0.5^c(0:10)
sum(0.5^c(0:10))
sum(0.5^c(0:100))
ic <- function(p,n){p*(sum((1-p)^c(0:n-1)))}
ic(0.5,10)
0.5*sum(0.5^c(0:100))
ic(0.5,100)
ic <- function(p,n){p*sum((1-p)^c(0:n-1))}
ic(0.5,10)
View(ic)
0.5*sum((1-0.5)^c(0:100-1))
sum((1-0.5)^c(0:100-1))
sum((0.5)^c(0:100-1))
sum((0.5)^c(0:10))
sum((0.5)^c(0:100))
ic <- function(p,n){p*sum((1-p)^c(0:(n-1)))}
ic(0.5,100)
ic(0.5,10)
ic(0.5,8)
ic(0.1,100)
ic(0.1,50)
for (i in 1:50) {data$probability[i] <- ic(0.1,i)}
colnames(data)[2] <- "IC_prob"
data$TH_prob <- c(rep(0,5),rep(1,45))
library(ggpubr)
ggline(data,"no_of_exposures",c("IC_prob","TH_prob"),combine = T)
ggline(data,"no_of_exposures",c("IC_prob","TH_prob"),combine = T, point.size = 0.5)
ggline(data,"no_of_exposures",c("IC_prob","TH_prob"),combine = T, point.size = 0.1)
ggline(data,"no_of_exposures",c("IC_prob","TH_prob"),combine = T, point.size = 0.1,xlab = "No of Exposures", ylab = "Probability of Adoption")
p <- ggline(data,"no_of_exposures",c("IC_prob","TH_prob"),combine = T, point.size = 0.1,xlab = "No of Exposures", ylab = "Probability of Adoption")
remotes::install_github("anthonynorth/rscodeio")
install.packages(remotes)
install.packages("remotes")
remotes::install_github("anthonynorth/rscodeio")
rscodeio::install_theme()
setwd("C:/Users/55832xch/Dropbox/Projects/Causal mediation analysis/Notes/Numerical validation")
